<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>ConfigurationBuilder.kt</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">danger-modules-report</a> &gt; <a href="index.source.html" class="el_package">com.sebastmar.module.report.configuration</a> &gt; <span class="el_source">ConfigurationBuilder.kt</span></div><h1>ConfigurationBuilder.kt</h1><pre class="source lang-java linenums">@file:Suppress(&quot;MemberVisibilityCanBePrivate&quot;)

package com.sebastmar.module.report.configuration

import com.sebastmar.module.report.info.Module
import com.sebastmar.module.report.internal.Configuration
import com.sebastmar.module.report.internal.ShouldLinkifyFiles
import com.sebastmar.module.report.internal.ShowCircleIndicators
import com.sebastmar.module.report.internal.ShowLineIndicators
import com.sebastmar.module.report.internal.SkipReportKeyword

@DslMarker
public annotation class ConfigurationDsl

/**
 * A builder class for configuring reports.
 *
 * This class provides a DSL for configuring various aspects of a report,
 * such as whether to write sections and how to intercept modules.
 */
@ConfigurationDsl
<span class="fc" id="L22">public class ConfigurationBuilder internal constructor() {</span>

    /**
     * Determines whether links to the diff page for each file are added to the report.
     * When `true`, links are added. When `false`, links are omitted.
     * Defaults to `true`.
     */
<span class="fc" id="L29">    public var linkifyFiles: Boolean = true</span>

    /**
     * Toggles whether circle indicators are displayed to the left of each file name.
     * Default value is `true`.
     */
<span class="fc" id="L35">    public var showCircleIndicators: Boolean = true</span>

    /**
     * Toggles whether the (+/-) ine indicator is displayed to next to the &quot;Added&quot;, &quot;Modified&quot;, &quot;Deleted&quot; sections.
     * Default value is `true`.
     */
<span class="fc" id="L41">    public var showLineIndicators: Boolean = true</span>

    /**
     * Allows modules to be intercepted, modified, or omitted from the report.
     * By default, this is a [NoOpModulesInterceptor] which performs no interception.
     * @see ModulesInterceptor
     */
<span class="fc" id="L48">    private var modulesInterceptor: ModulesInterceptor = NoOpModulesInterceptor</span>

    /**
     * Defines the strings used within the report.
     * This allows for customization and localization of the text displayed in the generated report.
     * Defaults to an instance of [ReportStrings] with default English strings.
     * @see ReportStrings
     */
<span class="fc" id="L56">    public var reportStrings: ReportStrings = ReportStrings()</span>

    /**
     * Sets an interceptor for the list of modules used in the report generation process.
     *
     * The interceptor allows for customization of the modules list by modifying or filtering
     * the modules before they are processed further.
     *
     * Example:
     * ```kotlin
     * modulesInterceptor { modules -&gt;
     *     modules.filterNot { it.name == &quot;internal-module&quot; } // Exclude a specific module
     * }
     * ```
     *
     * @param block A lambda function that takes the current list of [Module]s as input
     *              and returns a new, possibly modified, list of [Module]s.
     *              The returned list will be used for report generation.
     */
    public fun modulesInterceptor(block: (List&lt;Module&gt;) -&gt; List&lt;Module&gt;) {
<span class="fc" id="L76">        modulesInterceptor = ModulesInterceptor(block)</span>
<span class="fc" id="L77">    }</span>

    /**
     * If the PR description contains these keywords, the report generation will be skipped.
     * Default value is `module-no-report`.
     */
<span class="fc" id="L83">    public var skipReportKeyword: String = &quot;module-no-report&quot;</span>

<span class="fc" id="L85">    internal fun build(): Configuration = Configuration(</span>
<span class="fc" id="L86">        shouldLinkifyFiles = ShouldLinkifyFiles(linkifyFiles),</span>
<span class="fc" id="L87">        showCircleIndicators = ShowCircleIndicators(showCircleIndicators),</span>
<span class="fc" id="L88">        showLineIndicators = ShowLineIndicators(showLineIndicators),</span>
<span class="fc" id="L89">        modulesInterceptor = modulesInterceptor,</span>
<span class="fc" id="L90">        skipReportKeyword = SkipReportKeyword(skipReportKeyword),</span>
<span class="fc" id="L91">        reportStrings = reportStrings,</span>
<span class="fc" id="L92">    )</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.13.202504020838</span></div></body></html>